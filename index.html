<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Automet - Automatización con IA</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React Libraries -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <style>
        /* Custom styles */
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFFFFF; 
            color: #212529; 
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        .faq-item-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }
        .faq-item-content.open {
            max-height: 200px;
        }
        .gradient-text, .bg-tech-gradient {
            background-image: linear-gradient(to right, #2563eb, #14b8a6);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .bg-hero-gradient {
            background-image: linear-gradient(to right, #3b82f6, #a855f7);
        }
        /* Custom Slider Styles */
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 4px;
            background: #e5e7eb;
            border-radius: 5px;
            outline: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #2563eb;
            cursor: pointer;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #2563eb;
            cursor: pointer;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
        
        .chat-bubble-ai {
            background-color: #e5e7eb;
            color: #1f2937;
        }
        .chat-bubble-user {
            background-color: #2563eb;
            color: white;
        }
        /* Animations */
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; opacity: 0; }
        @keyframes slide-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-slide-up { animation: slide-up 1s ease-out 0.2s forwards; opacity: 0; }
        @keyframes bounce-in { 
            0% { opacity: 0; transform: scale(0.8); } 
            80% { opacity: 1; transform: scale(1.05); } 
            100% { opacity: 1; transform: scale(1); } 
        }
        .animate-bounce-in { animation: bounce-in 1s ease-out 0.4s forwards; opacity: 0;}
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        .animate-float { animation: float 6s ease-in-out infinite; }
        .shadow-glow { box-shadow: 0 0 20px 5px rgba(59, 130, 246, 0.4); }
        .shadow-elegant { box-shadow: 0 10px 25px -5px rgba(0,0,0,0.05), 0 8px 10px -6px rgba(0,0,0,0.05); }
        .hover\:shadow-card-hover:hover { box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 8px 10px -6px rgba(0,0,0,0.1); }

        /* Chatbot Animations */
        @keyframes typing-dot {
            0% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
            100% { transform: translateY(0); }
        }
        .typing-dot {
            animation: typing-dot 1.2s infinite ease-in-out;
        }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes thinking-pulse {
            0% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 0.7; }
        }
        .thinking-animation {
            animation: thinking-pulse 1.5s infinite ease-in-out;
        }

    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useReducer, createContext, useContext } = React;

        // --- Toaster and Mobile Hooks ---
        const MOBILE_BREAKPOINT = 768;

        function useIsMobile() {
            const [isMobile, setIsMobile] = useState(undefined);

            useEffect(() => {
                const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);
                const onChange = () => {
                    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);
                };
                mql.addEventListener("change", onChange);
                setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);
                return () => mql.removeEventListener("change", onChange);
            }, []);

            return !!isMobile;
        }

        const TOAST_LIMIT = 1;
        const TOAST_REMOVE_DELAY = 5000;
        const actionTypes = { ADD_TOAST: "ADD_TOAST", UPDATE_TOAST: "UPDATE_TOAST", DISMISS_TOAST: "DISMISS_TOAST", REMOVE_TOAST: "REMOVE_TOAST" };
        let count = 0;
        function genId() {
            count = (count + 1) % Number.MAX_SAFE_INTEGER;
            return count.toString();
        }
        const toastTimeouts = new Map();
        const addToRemoveQueue = (toastId) => {
            if (toastTimeouts.has(toastId)) return;
            const timeout = setTimeout(() => {
                toastTimeouts.delete(toastId);
                dispatch({ type: "REMOVE_TOAST", toastId: toastId });
            }, TOAST_REMOVE_DELAY);
            toastTimeouts.set(toastId, timeout);
        };
        const reducer = (state, action) => {
            switch (action.type) {
                case "ADD_TOAST": return { ...state, toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT) };
                case "UPDATE_TOAST": return { ...state, toasts: state.toasts.map((t) => t.id === action.toast.id ? { ...t, ...action.toast } : t) };
                case "DISMISS_TOAST": {
                    const { toastId } = action;
                    if (toastId) {
                        addToRemoveQueue(toastId);
                    } else {
                        state.toasts.forEach((toast) => { addToRemoveQueue(toast.id); });
                    }
                    return { ...state, toasts: state.toasts.map((t) => t.id === toastId || toastId === undefined ? { ...t, open: false } : t) };
                }
                case "REMOVE_TOAST":
                    if (action.toastId === undefined) return { ...state, toasts: [] };
                    return { ...state, toasts: state.toasts.filter((t) => t.id !== action.toastId) };
            }
            return state;
        };
        const listeners = [];
        let memoryState = { toasts: [] };
        function dispatch(action) {
            memoryState = reducer(memoryState, action);
            listeners.forEach((listener) => { listener(memoryState); });
        }
        function toast({ ...props }) {
            const id = genId();
            const update = (props) => dispatch({ type: "UPDATE_TOAST", toast: { ...props, id } });
            const dismiss = () => dispatch({ type: "DISMISS_TOAST", toastId: id });
            dispatch({ type: "ADD_TOAST", toast: { ...props, id, open: true, onOpenChange: (open) => { if (!open) dismiss(); } } });
            return { id: id, dismiss, update };
        }
        function useToast() {
            const [state, setState] = useState(memoryState);
            useEffect(() => {
                listeners.push(setState);
                return () => {
                    const index = listeners.indexOf(setState);
                    if (index > -1) listeners.splice(index, 1);
                };
            }, [state]);
            return { ...state, toast, dismiss: (toastId) => dispatch({ type: "DISMISS_TOAST", toastId }) };
        }
        
        const Toast = ({ title, description }) => <div className="fixed top-4 right-4 bg-gray-900 text-white p-4 rounded-lg shadow-lg flex items-center space-x-4 z-50"><div className="flex-shrink-0 w-5 h-5 bg-green-500 rounded-full"></div><div><h3 className="font-semibold">{title}</h3><p className="text-sm text-gray-300">{description}</p></div></div>;
        const Toaster = () => {
            const { toasts } = useToast();
            return (
                <div>
                    {toasts.map(({ id, title, description, ...props }) => (
                        <Toast key={id} title={title} description={description} {...props} />
                    ))}
                </div>
            );
        };


        // --- SVG Icons ---
        const CheckIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className="text-green-600"><path d="M20 6 9 17l-5-5"/></svg>;
        const ConsultationIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" className="text-blue-600"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>;
        const DesignIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" className="text-blue-600"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="3"/><path d="M22 12h-4"/><path d="M6 12H2"/><path d="m15.5 15.5-2.8-2.8"/><path d="m8.5 8.5 2.8 2.8"/></svg>;
        const ImplementationIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" className="text-blue-600"><path d="M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z"/><path d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/><path d="M12 2v2"/><path d="M12 22v-2"/><path d="m17 20.66-1-1.73"/><path d="M11 10.27 7 3.34"/><path d="m20.66 17-1.73-1"/><path d="m3.34 7 1.73 1"/><path d="M14 12h8"/><path d="M2 12h2"/><path d="m20.66 7-1.73 1"/><path d="m3.34 17 1.73-1"/><path d="m17 3.34-1 1.73"/><path d="M11 13.73 7 20.66"/></svg>;
        const SupportIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" className="text-blue-600"><path d="M21.5 2v6h-6"/><path d="M2.5 22v-6h6"/><path d="M2 11.5a10 10 0 0 1 18.8-4.3L22 2"/><path d="M22 12.5a10 10 0 0 1-18.8 4.3L2 22"/></svg>;
        const FriendlyRobotIcon = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
                <path d="M5 16L4.2 13.5A2 2 0 0 1 6 11h12a2 2 0 0 1 1.8 2.5L19 16"/>
                <rect x="4" y="16" width="16" height="6" rx="2"/>
                <path d="M12 11V3"/>
                <path d="M12 3h-1"/>
                <path d="M12 3h1"/>
                <circle cx="9" cy="13" r=".5" fill="currentColor"/>
                <circle cx="15" cy="13" r=".5" fill="currentColor"/>
            </svg>
        );
        const ChevronDownIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m6 9 6 6 6-6"/></svg>;
        const MenuIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>;
        const InstagramIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>;
        const XIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M18 6 6 18" />
                <path d="m6 6 12 12" />
            </svg>
        );
        const LinkedinIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg>;

        // --- Page Sections ---

        const Header = () => {
            const [isOpen, setIsOpen] = useState(false);

            const navItems = [
                { href: "#services", label: "Servicios" },
                { href: "#roi-calculator", label: "Calculadora ROI" },
                { href: "#case-studies", label: "Casos de Éxito" },
                { href: "#process", label: "Proceso" },
                { href: "#faq", label: "FAQ" },
                { href: "#contact", label: "Contacto" },
            ];

            const scrollToSection = (href) => {
                const element = document.querySelector(href);
                if (element) {
                    element.scrollIntoView({ behavior: "smooth" });
                    setIsOpen(false);
                }
            };

            return (
                <header className="sticky top-0 z-50 w-full border-b bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60">
                    <div className="container mx-auto flex h-16 items-center justify-between px-4">
                        <div className="flex items-center">
                            <h1 className="text-2xl font-bold bg-tech-gradient bg-clip-text text-transparent">
                                Automet
                            </h1>
                        </div>

                        {/* Desktop Navigation */}
                        <nav className="hidden md:flex items-center space-x-6">
                            {navItems.map((item) => (
                                <button
                                    key={item.href}
                                    onClick={() => scrollToSection(item.href)}
                                    className="text-sm font-medium text-gray-500 hover:text-blue-600 transition-colors"
                                >
                                    {item.label}
                                </button>
                            ))}
                        </nav>

                        {/* Mobile Navigation */}
                        <div className="md:hidden">
                            <button onClick={() => setIsOpen(true)} className="p-2">
                                <MenuIcon />
                            </button>
                            {isOpen && (
                                <div className="fixed inset-0 bg-black/20 z-40" onClick={() => setIsOpen(false)}>
                                    <div 
                                        className="fixed top-0 right-0 h-full w-72 bg-white z-50 p-8"
                                        onClick={(e) => e.stopPropagation()}
                                    >
                                        <div className="flex flex-col space-y-4 mt-8">
                                            {navItems.map((item) => (
                                                <button
                                                    key={item.href}
                                                    onClick={() => scrollToSection(item.href)}
                                                    className="text-left text-lg font-medium text-gray-800 hover:text-blue-600 transition-colors py-2"
                                                >
                                                    {item.label}
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </header>
            );
        };

        const Hero = () => {
            const canvasRef = useRef(null);

            useEffect(() => {
                const canvas = canvasRef.current;
                if (!canvas) return;
                const ctx = canvas.getContext("2d");
                if (!ctx) return;

                let width, height, orbs;
                const colors = ["#ff7e5f", "#feb47b", "#86a8e7", "#7f7fd5"];

                class Orb {
                    constructor() {
                        this.x = Math.random() * width;
                        this.y = Math.random() * height;
                        this.vx = (Math.random() - 0.5) * 0.4;
                        this.vy = (Math.random() - 0.5) * 0.4;
                        this.radius = Math.random() * 200 + 150;
                        this.color = colors[Math.floor(Math.random() * colors.length)];
                    }

                    draw() {
                        ctx.beginPath();
                        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                        ctx.fillStyle = this.color;
                        ctx.fill();
                    }

                    update() {
                        this.x += this.vx;
                        this.y += this.vy;

                        if (this.x - this.radius < 0 || this.x + this.radius > width) {
                            this.vx *= -1;
                        }
                        if (this.y - this.radius < 0 || this.y + this.radius > height) {
                            this.vy *= -1;
                        }
                    }
                }

                function init() {
                    width = canvas.offsetWidth;
                    height = canvas.offsetHeight;
                    canvas.width = width;
                    canvas.height = height;
                    orbs = [];
                    for (let i = 0; i < 4; i++) {
                        orbs.push(new Orb());
                    }
                }

                let animationFrameId;
                function animate() {
                    ctx.clearRect(0, 0, width, height);
                    orbs.forEach(orb => {
                        orb.update();
                        orb.draw();
                    });
                    animationFrameId = requestAnimationFrame(animate);
                }

                window.addEventListener("resize", init);
                init();
                animate();

                return () => {
                    window.removeEventListener("resize", init);
                    cancelAnimationFrame(animationFrameId);
                };
            }, []);

            const scrollToContact = () => {
                const element = document.querySelector("#contact");
                if (element) {
                    element.scrollIntoView({ behavior: "smooth" });
                }
            };

            return (
                <section className="relative min-h-screen flex items-center justify-center overflow-hidden bg-white">
                    <canvas
                        ref={canvasRef}
                        className="absolute inset-0 w-full h-full"
                    />
                    <div className="relative z-10 container mx-auto px-4 text-center animate-fade-in">
                        <h1 className="text-4xl md:text-6xl font-bold mb-8 text-gray-800 leading-[1.1] tracking-tight">
                            El Futuro es Autónomo.{" "}
                            <span className="bg-hero-gradient bg-clip-text text-transparent">
                                Potenciamos tu Negocio con IA.
                            </span>
                        </h1>
                        <p className="text-lg md:text-xl text-gray-600 max-w-4xl mx-auto mb-8 animate-slide-up">
                            Usamos el poder de la Inteligencia Artificial para crear automatizaciones que piensan, aprenden y optimizan por ti.
                        </p>
                        <button
                            className="bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 text-lg shadow-glow animate-bounce-in hover:scale-105 transition-transform rounded-lg"
                            onClick={scrollToContact}
                        >
                            Diseña tu Solución de IA
                        </button>
                    </div>
                </section>
            );
        };
        
        const Services = () => {
             const services = [
                {
                    iconClass: "fas fa-brain",
                    title: "IA para Empresas",
                    description: "Implementamos soluciones de Análisis Predictivo y optimización de cadenas de suministro para máxima eficiencia."
                },
                {
                    iconClass: "fas fa-store-alt",
                    title: "IA para Locales",
                    description: "Automatizamos el inventario con Visión por Computadora y mejoramos la atención con Chatbots Inteligentes."
                },
                {
                    iconClass: "fas fa-user-cog",
                    title: "IA para el Día a Día",
                    description: "Creamos asistentes personales y sistemas de domótica que se anticipan a tus necesidades y simplifican tu vida."
                }
            ];

            return (
                <section id="services" className="py-24 bg-white">
                    <div className="container mx-auto px-4">
                        <h2 className="text-3xl md:text-4xl font-bold text-center mb-16 bg-tech-gradient bg-clip-text text-transparent">
                            Nuestras Soluciones de Automatización Inteligente
                        </h2>
                        <div className="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                            {services.map((service, index) => (
                                <div
                                    key={service.title}
                                    className="group transition-all duration-300 hover:-translate-y-2 hover:scale-110 hover:shadow-card-hover animate-fade-in border rounded-lg border-gray-200/50 p-6 text-center"
                                    style={{ animationDelay: `${index * 0.2}s` }}
                                >
                                    <div className="text-center">
                                        <div className="mx-auto w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-blue-100 transition-colors">
                                            <i className={`${service.iconClass} text-3xl text-blue-600`}></i>
                                        </div>
                                        <h3 className="text-xl font-bold">{service.title}</h3>
                                    </div>
                                    <div>
                                        <p className="text-center text-gray-500 leading-relaxed mt-4">
                                            {service.description}
                                        </p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const RoiCalculator = () => {
            const [employees, setEmployees] = useState(5);
            const [monthlySalary, setMonthlySalary] = useState(1200);
            const [initialInvestment, setInitialInvestment] = useState(5000);
            const [monthlyCost, setMonthlyCost] = useState(150);

            const [results, setResults] = useState({
                monthlySavings: 0,
                annualSavings: 0,
                roi: 0,
                breakeven: 0,
            });

            useEffect(() => {
                const monthlySavings = employees * monthlySalary;
                const annualSavings = monthlySavings * 12;
                const annualNetSavings = annualSavings - (monthlyCost * 12);
                
                let roi = 0;
                if (initialInvestment > 0) {
                    roi = (annualNetSavings / initialInvestment) * 100;
                }

                let breakeven = Infinity;
                const netMonthlySavings = monthlySavings - monthlyCost;
                if (netMonthlySavings > 0) {
                    breakeven = initialInvestment / netMonthlySavings;
                }

                setResults({
                    monthlySavings,
                    annualSavings,
                    roi,
                    breakeven: breakeven === Infinity ? 0 : breakeven,
                });
            }, [employees, monthlySalary, initialInvestment, monthlyCost]);

            const formatCurrency = (value) => {
                return new Intl.NumberFormat('es-US', {
                    style: 'currency',
                    currency: 'USD',
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0,
                }).format(value);
            };

            return (
                <section id="roi-calculator" className="py-20 bg-gray-50">
                    <div className="container mx-auto px-4">
                        <h2 className="text-3xl md:text-4xl font-bold text-center mb-4 bg-tech-gradient bg-clip-text text-transparent">
                            Calcula tu Retorno de Inversión (ROI)
                        </h2>
                        <p className="text-center text-gray-500 mb-16 max-w-2xl mx-auto">
                            Usa nuestra calculadora para estimar el impacto financiero que la automatización con IA puede tener en tu negocio.
                        </p>
                        <div className="bg-white max-w-6xl mx-auto shadow-elegant rounded-lg">
                            <div className="grid lg:grid-cols-2 gap-8 p-8">
                                <div className="space-y-8">
                                    <div className="px-0">
                                        <h3 className="text-2xl text-blue-600 font-bold">Variables</h3>
                                    </div>
                                    <div className="space-y-6">
                                        <div className="space-y-4">
                                            <label className="text-base font-semibold">
                                                Trabajadores en la tarea: <span className="text-blue-600 font-bold">{employees}</span>
                                            </label>
                                            <input
                                                type="range"
                                                value={employees}
                                                onChange={(e) => setEmployees(Number(e.target.value))}
                                                max={50} min={1} step={1} className="w-full"
                                            />
                                        </div>
                                        <div className="space-y-4">
                                            <label className="text-base font-semibold">
                                                Salario Promedio Mensual: <span className="text-blue-600 font-bold">{formatCurrency(monthlySalary)}</span>
                                            </label>
                                            <input
                                                type="range"
                                                value={monthlySalary}
                                                onChange={(e) => setMonthlySalary(Number(e.target.value))}
                                                max={10000} min={100} step={50} className="w-full"
                                            />
                                        </div>
                                        <div className="space-y-2">
                                            <label htmlFor="investment" className="text-base font-semibold">Inversión Inicial ($)</label>
                                            <input
                                                id="investment" type="number" value={initialInvestment}
                                                onChange={(e) => setInitialInvestment(Number(e.target.value))}
                                                placeholder="Ej: 5000" className="w-full p-3 border border-gray-300 rounded-lg"
                                            />
                                        </div>
                                        <div className="space-y-2">
                                            <label htmlFor="maintenance" className="text-base font-semibold">Costo de Mantenimiento Mensual ($)</label>
                                            <input
                                                id="maintenance" type="number" value={monthlyCost}
                                                onChange={(e) => setMonthlyCost(Number(e.target.value))}
                                                placeholder="Ej: 150" className="w-full p-3 border border-gray-300 rounded-lg"
                                            />
                                        </div>
                                    </div>
                                </div>
                                <div className="space-y-8">
                                    <div className="px-0">
                                        <h3 className="text-2xl text-blue-600 font-bold">Resultados Estimados</h3>
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div className="bg-teal-50 border-teal-200 border rounded-lg">
                                            <div className="p-6 text-center">
                                                <div className="text-sm font-medium text-gray-500 mb-2">Ahorro Mensual</div>
                                                <div className="text-2xl font-bold text-teal-600">{formatCurrency(results.monthlySavings)}</div>
                                            </div>
                                        </div>
                                        <div className="bg-teal-50 border-teal-200 border rounded-lg">
                                            <div className="p-6 text-center">
                                                <div className="text-sm font-medium text-gray-500 mb-2">Ahorro Anual</div>
                                                <div className="text-2xl font-bold text-teal-600">{formatCurrency(results.annualSavings)}</div>
                                            </div>
                                        </div>
                                        <div className="bg-blue-50 border-blue-200 border rounded-lg">
                                            <div className="p-6 text-center">
                                                <div className="text-sm font-medium text-gray-500 mb-2">ROI (Primer Año)</div>
                                                <div className="text-2xl font-bold text-blue-600">{results.roi.toFixed(0)}%</div>
                                            </div>
                                        </div>
                                        <div className="bg-blue-50 border-blue-200 border rounded-lg">
                                            <div className="p-6 text-center">
                                                <div className="text-sm font-medium text-gray-500 mb-2">Recuperas la Inversión en</div>
                                                <div className="text-2xl font-bold text-blue-600">{results.breakeven > 0 ? `${results.breakeven.toFixed(1)} meses` : 'N/A'}</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const CaseStudies = () => (
            <section id="case-studies" className="py-24">
                <div className="container mx-auto px-6 text-center">
                    <h2 className="text-3xl md:text-4xl font-bold mb-16 gradient-text">Casos de Éxito Reales</h2>
                    <div className="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto text-left">
                        {[{title: 'Logística'}, {title: 'E-commerce'}].map(study => (
                            <div key={study.title} className="bg-white p-8 rounded-2xl shadow-lg border border-gray-100 transition-all duration-300 hover:-translate-y-2 hover:scale-110 hover:shadow-card-hover">
                                <h3 className="text-lg font-bold text-blue-600 mb-2">El Reto</h3>
                                <p className="text-gray-600 mb-6">{study.title === 'Logística' ? 'Una empresa de logística perdía incontables horas en la planificación manual de rutas, lo que resultaba en altos costes de combustible y retrasos en las entregas.' : 'Una tienda online de moda sufría de abandono de carritos y no lograba conectar con sus clientes para ofrecer recomendaciones personalizadas de forma efectiva.'}</p>
                                <h3 className="text-lg font-bold text-blue-600 mb-2">La Solución Automet</h3>
                                <p className="text-gray-600 mb-6">{study.title === 'Logística' ? 'Implementamos un sistema de IA que analiza el tráfico y las cargas en tiempo real para calcular y asignar las rutas más eficientes de forma automática cada mañana.' : 'Desarrollamos un chatbot con IA que interactúa con los visitantes, entiende sus preferencias de estilo y ofrece recomendaciones de productos en tiempo real, 24/7.'}</p>
                                <div className="bg-green-50 p-6 rounded-xl">
                                    <h4 className="text-lg font-bold text-green-800 mb-4">Resultados</h4>
                                    <ul className="space-y-3">
                                        {(study.title === 'Logística' ? ["Reducción del 98% en tiempo de planificación.", "15% de ahorro en costes de combustible.", "Aumento del 30% en la puntualidad de entregas."] : ["Aumento del 40% en la conversión de ventas.", "Reducción del 60% en el abandono de carritos.", "92% de satisfacción del cliente con el chatbot."]).map(res => (
                                            <li key={res} className="flex items-center text-gray-700"><CheckIcon /> <span className="ml-3">{res}</span></li>
                                        ))}
                                    </ul>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            </section>
        );

        const Process = () => {
            const processSteps = [
                { icon: ConsultationIcon, title: "1. Consulta", description: "Analizamos tus necesidades y los puntos clave donde la IA puede generar el mayor impacto." },
                { icon: DesignIcon, title: "2. Diseño a Medida", description: "Creamos la arquitectura de tu solución de IA, seleccionando los modelos y tecnologías adecuadas." },
                { icon: ImplementationIcon, title: "3. Implementación", description: "Entrenamos, integramos y desplegamos el sistema de IA en tu entorno de trabajo actual." },
                { icon: SupportIcon, title: "4. Soporte y Evolución", description: "Monitoreamos el rendimiento y re-entrenamos los modelos para una mejora continua." }
            ];
            return (
                <section id="process" className="py-20 bg-gray-50">
                    <div className="container mx-auto px-4">
                        <h2 className="text-3xl md:text-4xl font-bold text-center mb-16 bg-tech-gradient bg-clip-text text-transparent">
                            Nuestro Proceso
                        </h2>
                        <div className="relative max-w-6xl mx-auto">
                            <div className="hidden lg:block absolute top-10 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 via-blue-500 to-teal-400 z-0" />
                            <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-8 relative z-10">
                                {processSteps.map((step, index) => (
                                    <div
                                        key={step.title}
                                        className="text-center group animate-fade-in"
                                        style={{ animationDelay: `${index * 0.2}s` }}
                                    >
                                        <div className="relative mx-auto w-20 h-20 bg-white border-4 border-blue-500 rounded-full flex items-center justify-center mb-6 group-hover:border-teal-400 group-hover:bg-blue-50 transition-all duration-300 shadow-elegant">
                                            <step.icon />
                                        </div>
                                        <h3 className="text-xl font-bold mb-4 text-gray-800">{step.title}</h3>
                                        <p className="text-gray-500 leading-relaxed">{step.description}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const FAQ = () => {
            const [openIndex, setOpenIndex] = useState(null);
            const faqs = [
                { question: "¿En cuánto tiempo veré resultados?", answer: "El tiempo para ver resultados tangibles varía según la complejidad del proyecto, pero muchos de nuestros clientes comienzan a notar mejoras en eficiencia y ahorro de costos en tan solo unas pocas semanas después de la implementación." },
                { question: "¿Mi negocio es demasiado pequeño para la IA?", answer: "¡Para nada! La automatización con IA es escalable y beneficiosa para empresas de todos los tamaños. Nuestras soluciones se adaptan a tus necesidades específicas, asegurando que obtengas un retorno de inversión positivo sin importar el tamaño de tu operación." },
                { question: "¿Qué tipo de soporte ofrecen después de la implementación?", answer: "Ofrecemos un soporte completo que incluye monitoreo continuo, mantenimiento y re-entrenamiento de los modelos de IA para asegurar un rendimiento óptimo a largo plazo. Tu éxito es nuestra prioridad." },
                { question: "¿Cómo garantizan la seguridad de nuestros datos?", answer: "Implementamos los más altos estándares de seguridad, incluyendo encriptación end-to-end, acceso controlado por roles y cumplimiento con regulaciones como GDPR. Todos nuestros sistemas están auditados regularmente por terceros especializados en ciberseguridad." },
                { question: "¿Pueden integrarse con nuestros sistemas existentes?", answer: "Sí, nuestras soluciones están diseñadas para integrarse perfectamente con la mayoría de sistemas empresariales existentes a través de APIs y conectores personalizados. Realizamos un análisis detallado de tu infraestructura actual antes de la implementación." }
            ];
            
            return (
                <section id="faq" className="py-24">
                    <div className="container mx-auto px-6 max-w-3xl">
                        <h2 className="text-3xl md:text-4xl font-bold text-center mb-12 gradient-text">Preguntas Frecuentes</h2>
                        <div className="space-y-4">
                            {faqs.map((faq, index) => (
                                <div key={index} className="bg-white rounded-lg shadow-md border border-gray-100 overflow-hidden transition-all duration-300 hover:-translate-y-1 hover:scale-110 hover:shadow-xl">
                                    <button onClick={() => setOpenIndex(openIndex === index ? null : index)} className="w-full flex justify-between items-center text-left p-6 font-medium">
                                        <span className="text-lg">{faq.question}</span>
                                        <span className={`transform transition-transform duration-300 ${openIndex === index ? 'rotate-180' : ''}`}><ChevronDownIcon /></span>
                                    </button>
                                    <div className={`faq-item-content ${openIndex === index ? 'open' : ''}`}>
                                        <p className="text-gray-600 px-6 pb-6 leading-relaxed">{faq.answer}</p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const Contact = () => {
            const { toast } = useToast();
            const [formData, setFormData] = useState({ companyName: "", businessType: "", firstName: "", lastName: "", email: "" });
            const [isSubmitting, setIsSubmitting] = useState(false);

            const handleChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                setIsSubmitting(true);
                try {
                    // Simulación de envío
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    toast({ title: "¡Mensaje enviado!", description: "Gracias por tu interés. Nos pondremos en contacto contigo pronto." });
                    setFormData({ companyName: "", businessType: "", firstName: "", lastName: "", email: "" });
                } catch (error) {
                    toast({ title: "Error", description: "Hubo un problema al enviar tu mensaje. Por favor, inténtalo de nuevo." });
                } finally {
                    setIsSubmitting(false);
                }
            };
            return (
                <section id="contact" className="py-20 bg-gray-50">
                    <div className="container mx-auto px-4">
                        <h2 className="text-3xl md:text-4xl font-bold text-center mb-4 bg-tech-gradient bg-clip-text text-transparent">
                            Hablemos de tu Proyecto de IA
                        </h2>
                        <p className="text-center text-gray-500 mb-16 max-w-2xl mx-auto">
                            Completa este formulario y nuestro equipo de expertos en IA se pondrá en contacto contigo para diseñar una solución personalizada.
                        </p>
                        <div className="max-w-2xl mx-auto shadow-elegant animate-fade-in bg-white rounded-lg p-8">
                            <div className="mb-4">
                                <h3 className="text-2xl text-blue-600 font-bold">Solicitar Consulta IA</h3>
                                <p className="text-gray-500">Cuéntanos sobre tu proyecto y cómo podemos ayudarte a implementar automatización inteligente.</p>
                            </div>
                            <form onSubmit={handleSubmit} className="space-y-6">
                                <div className="space-y-2">
                                    <label htmlFor="companyName" className="text-base font-medium">Nombre de la Empresa (Opcional)</label>
                                    <input id="companyName" name="companyName" type="text" value={formData.companyName} onChange={handleChange} placeholder="Nombre de tu empresa" className="w-full p-3 border border-gray-300 rounded-lg" />
                                </div>
                                <div className="space-y-2">
                                    <label htmlFor="businessType" className="text-base font-medium">Negocio al que quieres aplicar la automatización con IA *</label>
                                    <input id="businessType" name="businessType" type="text" value={formData.businessType} onChange={handleChange} placeholder="Ej: E-commerce, Logística, Manufactura..." required className="w-full p-3 border border-gray-300 rounded-lg" />
                                </div>
                                <div className="grid md:grid-cols-2 gap-4">
                                    <div className="space-y-2">
                                        <label htmlFor="firstName" className="text-base font-medium">Nombre *</label>
                                        <input id="firstName" name="firstName" type="text" value={formData.firstName} onChange={handleChange} placeholder="Tu nombre" required className="w-full p-3 border border-gray-300 rounded-lg" />
                                    </div>
                                    <div className="space-y-2">
                                        <label htmlFor="lastName" className="text-base font-medium">Apellido *</label>
                                        <input id="lastName" name="lastName" type="text" value={formData.lastName} onChange={handleChange} placeholder="Tu apellido" required className="w-full p-3 border border-gray-300 rounded-lg" />
                                    </div>
                                </div>
                                <div className="space-y-2">
                                    <label htmlFor="email" className="text-base font-medium">Correo Electrónico *</label>
                                    <input id="email" name="email" type="email" value={formData.email} onChange={handleChange} placeholder="tu@email.com" required className="w-full p-3 border border-gray-300 rounded-lg" />
                                </div>
                                <button type="submit" className="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 text-lg rounded-lg shadow-glow" disabled={isSubmitting}>
                                    {isSubmitting ? "Enviando..." : "Solicitar Consulta IA"}
                                </button>
                            </form>
                        </div>
                    </div>
                </section>
            );
        };
        
        const Footer = () => (
            <footer className="bg-gray-50 py-12 border-t">
                <div className="container mx-auto px-4">
                    <div className="text-center">
                        <div className="mb-8">
                            <h3 className="text-2xl font-bold bg-tech-gradient bg-clip-text text-transparent">Automet</h3>
                            <p className="text-gray-500 mt-2">Pioneros en Automatización Inteligente</p>
                        </div>
                        <div className="flex justify-center space-x-6 mb-8">
                            <a href="#" className="w-10 h-10 bg-white rounded-full flex items-center justify-center hover:bg-blue-600 text-gray-600 hover:text-white transition-colors shadow-sm" aria-label="LinkedIn"><LinkedinIcon /></a>
                            <a href="#" className="w-10 h-10 bg-white rounded-full flex items-center justify-center hover:bg-blue-600 text-gray-600 hover:text-white transition-colors shadow-sm" aria-label="X"><XIcon /></a>
                            <a href="https://www.instagram.com/autometve" target="_blank" rel="noopener noreferrer" className="w-10 h-10 bg-white rounded-full flex items-center justify-center hover:bg-blue-600 text-gray-600 hover:text-white transition-colors shadow-sm" aria-label="Instagram"><InstagramIcon /></a>
                        </div>
                        <div className="border-t border-gray-200 pt-8">
                            <p className="text-gray-500 text-sm">&copy; 2025 Automet. Todos los derechos reservados.</p>
                        </div>
                    </div>
                </div>
            </footer>
        );

        const TypingIndicator = () => (
            <div className="flex items-center space-x-1 p-3">
                <div className="w-2 h-2 bg-gray-400 rounded-full typing-dot"></div>
                <div className="w-2 h-2 bg-gray-400 rounded-full typing-dot"></div>
                <div className="w-2 h-2 bg-gray-400 rounded-full typing-dot"></div>
            </div>
        );

        const AIChatAssistant = () => {
            const [isOpen, setIsOpen] = useState(false);
            const [messages, setMessages] = useState([]);
            const [userInput, setUserInput] = useState("");
            const [isLoading, setIsLoading] = useState(false);
            const chatBoxRef = useRef(null);

            useEffect(() => {
                if (isOpen && messages.length === 0) {
                    const timer = setTimeout(() => {
                        setMessages([{ 
                            sender: 'ai', 
                            text: 'Hola soy Meca, el robot de Automet. ¿Cómo puedo ayudarte?' 
                        }]);
                    }, 1000);
                    return () => clearTimeout(timer);
                }
            }, [isOpen]);

            useEffect(() => {
                if (chatBoxRef.current) {
                    chatBoxRef.current.scrollTop = chatBoxRef.current.scrollHeight;
                }
            }, [messages]);

            const handleSendMessage = async (e) => {
                e.preventDefault();
                if (!userInput.trim() || isLoading) return;

                const userMessage = { sender: 'user', text: userInput };
                const typingMessage = { sender: 'ai', text: <TypingIndicator />, id: 'typing' };
                
                setMessages(prev => [...prev, userMessage, typingMessage]);
                setUserInput("");
                setIsLoading(true);

                const systemPrompt = "Eres Meca, el robot asistente de Automet. Usas n8n para las automatizaciones. Tu tono debe ser conversacional y humano, puedes omitir algunos signos de puntuación como comas o puntos para sonar más natural, pero mantén una buena ortografía. Sé breve y preciso.";
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                const payload = {
                    contents: [{ parts: [{ text: userInput }] }],
                    systemInstruction: { parts: [{ text: systemPrompt }] },
                };

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();
                    const aiText = result.candidates?.[0]?.content?.parts?.[0]?.text || "Upps, algo salió mal. Intenta de nuevo.";
                    
                    setMessages(prev => prev.filter(m => m.id !== 'typing').concat({ sender: 'ai', text: aiText }));

                } catch (error) {
                    console.error("Error calling Gemini API:", error);
                    setMessages(prev => prev.filter(m => m.id !== 'typing').concat({ sender: 'ai', text: "No puedo conectar con la IA ahora mismo." }));
                } finally {
                    setIsLoading(false);
                }
            };
            
            return (
                <>
                    <button 
                        onClick={() => setIsOpen(!isOpen)}
                        className="fixed bottom-6 left-6 bg-blue-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center z-50 hover:bg-blue-700 transition-transform hover:scale-110"
                    >
                        <FriendlyRobotIcon className={`w-8 h-8 transition-transform duration-300 ${isOpen ? 'rotate-12' : ''}`} />
                    </button>
                    {isOpen && (
                        <div className="fixed bottom-24 left-6 w-80 h-[450px] bg-white rounded-2xl shadow-xl z-50 flex flex-col border-2 border-gray-200 animate-fade-in">
                            <div className="bg-blue-600 text-white p-4 rounded-t-xl flex justify-between items-center">
                                <div className="flex items-center space-x-2">
                                    <FriendlyRobotIcon className={`w-6 h-6 ${isLoading ? 'thinking-animation' : ''}`} />
                                    <h3 className="font-bold">Meca</h3>
                                </div>
                                <button onClick={() => setIsOpen(false)} className="font-bold text-xl">&times;</button>
                            </div>
                            <div ref={chatBoxRef} className="flex-1 p-4 overflow-y-auto space-y-4 bg-gray-50">
                                {messages.map((msg, index) => (
                                    <div key={index} className={`flex items-end gap-2.5 ${msg.sender === 'user' ? 'justify-end' : 'justify-start'} animate-fade-in`}>
                                        {msg.sender === 'ai' && <div className="w-8 h-8 flex-shrink-0 bg-gray-200 rounded-full flex items-center justify-center"><FriendlyRobotIcon className="w-5 h-5 text-gray-600"/></div>}
                                        <div className={`max-w-[80%] text-sm p-3 rounded-lg ${msg.sender === 'user' ? 'chat-bubble-user rounded-br-none' : 'chat-bubble-ai rounded-bl-none'}`}>{msg.text}</div>
                                    </div>
                                ))}
                            </div>
                            <form onSubmit={handleSendMessage} className="p-4 border-t border-gray-200 flex gap-2 bg-white rounded-b-2xl">
                                <input 
                                    type="text"
                                    value={userInput}
                                    onChange={(e) => setUserInput(e.target.value)}
                                    placeholder="Habla con Meca..."
                                    className="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                />
                                <button type="submit" className="bg-blue-600 text-white px-4 rounded-lg font-semibold hover:bg-blue-700 disabled:bg-gray-400" disabled={isLoading}>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
                                </button>
                            </form>
                        </div>
                    )}
                </>
            );
        };

        const App = () => (
            <>
                <Header />
                <main>
                    <Hero />
                    <Services />
                    <RoiCalculator />
                    <CaseStudies />
                    <Process />
                    <FAQ />
                    <Contact />
                </main>
                <Footer />
                <Toaster />
                <AIChatAssistant />
            </>
        );

        const rootElement = document.getElementById('root');
        // This check prevents React from trying to initialize the app more than once.
        if (!rootElement._reactRootContainer) {
            ReactDOM.createRoot(rootElement).render(<App />);
        }
    </script>
</body>
</html>
